{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/ata/ins_post_creator/post_kidsai%20-%20Kopya/node_modules/mediabunny/dist/modules/shared/mp3-misc.js"],"sourcesContent":["/*!\n * Copyright (c) 2025-present, Vanilagy and contributors\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at https://mozilla.org/MPL/2.0/.\n */\nexport const FRAME_HEADER_SIZE = 4;\nexport const SAMPLING_RATES = [44100, 48000, 32000];\nexport const KILOBIT_RATES = [\n    // lowSamplingFrequency === 0\n    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, // layer = 0\n    -1, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, -1, // layer 1\n    -1, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, -1, // layer = 2\n    -1, 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, -1, // layer = 3\n    // lowSamplingFrequency === 1\n    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, // layer = 0\n    -1, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160, -1, // layer = 1\n    -1, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160, -1, // layer = 2\n    -1, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, -1, // layer = 3\n];\n/** 'Xing' */\nexport const XING = 0x58696e67;\n/** 'Info' */\nexport const INFO = 0x496e666f;\nexport const computeMp3FrameSize = (lowSamplingFrequency, layer, bitrate, sampleRate, padding) => {\n    if (layer === 0) {\n        return 0; // Not expected that this is hit\n    }\n    else if (layer === 1) {\n        return Math.floor(144 * bitrate / (sampleRate << lowSamplingFrequency)) + padding;\n    }\n    else if (layer === 2) {\n        return Math.floor(144 * bitrate / sampleRate) + padding;\n    }\n    else { // layer === 3\n        return (Math.floor(12 * bitrate / sampleRate) + padding) * 4;\n    }\n};\nexport const getXingOffset = (mpegVersionId, channel) => {\n    return mpegVersionId === 3\n        ? (channel === 3 ? 21 : 36)\n        : (channel === 3 ? 13 : 21);\n};\nexport const readFrameHeader = (word, remainingBytes) => {\n    const firstByte = word >>> 24;\n    const secondByte = (word >>> 16) & 0xff;\n    const thirdByte = (word >>> 8) & 0xff;\n    const fourthByte = word & 0xff;\n    if (firstByte !== 0xff && secondByte !== 0xff && thirdByte !== 0xff && fourthByte !== 0xff) {\n        return {\n            header: null,\n            bytesAdvanced: 4,\n        };\n    }\n    if (firstByte !== 0xff) {\n        return { header: null, bytesAdvanced: 1 };\n    }\n    if ((secondByte & 0xe0) !== 0xe0) {\n        return { header: null, bytesAdvanced: 1 };\n    }\n    let lowSamplingFrequency = 0;\n    let mpeg25 = 0;\n    if (secondByte & (1 << 4)) {\n        lowSamplingFrequency = (secondByte & (1 << 3)) ? 0 : 1;\n    }\n    else {\n        lowSamplingFrequency = 1;\n        mpeg25 = 1;\n    }\n    const mpegVersionId = (secondByte >> 3) & 0x3;\n    const layer = (secondByte >> 1) & 0x3;\n    const bitrateIndex = (thirdByte >> 4) & 0xf;\n    const frequencyIndex = ((thirdByte >> 2) & 0x3) % 3;\n    const padding = (thirdByte >> 1) & 0x1;\n    const channel = (fourthByte >> 6) & 0x3;\n    const modeExtension = (fourthByte >> 4) & 0x3;\n    const copyright = (fourthByte >> 3) & 0x1;\n    const original = (fourthByte >> 2) & 0x1;\n    const emphasis = fourthByte & 0x3;\n    const kilobitRate = KILOBIT_RATES[lowSamplingFrequency * 16 * 4 + layer * 16 + bitrateIndex];\n    if (kilobitRate === -1) {\n        return { header: null, bytesAdvanced: 1 };\n    }\n    const bitrate = kilobitRate * 1000;\n    const sampleRate = SAMPLING_RATES[frequencyIndex] >> (lowSamplingFrequency + mpeg25);\n    const frameLength = computeMp3FrameSize(lowSamplingFrequency, layer, bitrate, sampleRate, padding);\n    if (remainingBytes !== null && remainingBytes < frameLength) {\n        // The frame doesn't fit into the rest of the file\n        return { header: null, bytesAdvanced: 1 };\n    }\n    let audioSamplesInFrame;\n    if (mpegVersionId === 3) {\n        audioSamplesInFrame = layer === 3 ? 384 : 1152;\n    }\n    else {\n        if (layer === 3) {\n            audioSamplesInFrame = 384;\n        }\n        else if (layer === 2) {\n            audioSamplesInFrame = 1152;\n        }\n        else {\n            audioSamplesInFrame = 576;\n        }\n    }\n    return {\n        header: {\n            totalSize: frameLength,\n            mpegVersionId,\n            layer,\n            bitrate,\n            frequencyIndex,\n            sampleRate,\n            channel,\n            modeExtension,\n            copyright,\n            original,\n            emphasis,\n            audioSamplesInFrame,\n        },\n        bytesAdvanced: 1,\n    };\n};\nexport const encodeSynchsafe = (unsynchsafed) => {\n    let mask = 0x7f;\n    let synchsafed = 0;\n    let unsynchsafedRest = unsynchsafed;\n    while ((mask ^ 0x7fffffff) !== 0) {\n        synchsafed = unsynchsafedRest & ~mask;\n        synchsafed <<= 1;\n        synchsafed |= unsynchsafedRest & mask;\n        mask = ((mask + 1) << 8) - 1;\n        unsynchsafedRest = synchsafed;\n    }\n    return synchsafed;\n};\nexport const decodeSynchsafe = (synchsafed) => {\n    let mask = 0x7f000000;\n    let unsynchsafed = 0;\n    while (mask !== 0) {\n        unsynchsafed >>= 1;\n        unsynchsafed |= synchsafed & mask;\n        mask >>= 8;\n    }\n    return unsynchsafed;\n};\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}}]
}